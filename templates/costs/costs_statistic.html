{% extends 'base.html' %}

{% block title %}Statistic{% endblock %}

{% block javascript %}
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
{% endblock %}

{% block content %}

<div class="dates">
    <div class="dates_left_button">
        <a href="{% url 'costs_statistic_page' date.previous_month %}">&lt;</a>
    </div>
    <div class="dates_current_date">
        {{ date.date }}
    </div>
    <div class="dates_right_button">
        <a href="{% url 'costs_statistic_page' date.next_month %}">&gt;</a>
    </div>
</div>

{% if costs %}
    {% include 'statistic.html' with profit=profit %}
{% endif %}

<div class="changer">
    <span class="changer_current">Costs</span>
    <a href="{% url 'incomes_statistic_page' date.date %}" class="changer_link">Incomes</a>
</div>

{% if costs %}
    {% include 'costs_list.html' with costs=costs total_sum=total_sum with_costs_date=True %}
{% else %}
    <p class="empty_text">You don't have any costs for this month</p>
{% endif %}
{% endblock %}
